{% extends 'base.html' %}
{% block content %}
<section class="container mx-auto px-6 py-8">
    <h2 class="text-2xl font-bold mb-6">Lend a Book</h2>
    <div class="overflow-x-auto rounded-lg shadow bg-white">
        <table class="min-w-full divide-y divide-gray-200" id="lending-table">
            <thead class="bg-gray-50">
                <tr>
                    <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"> </th>
                    <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">ISBN</th>
                    <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Title</th>
                    <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Author</th>
                    <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Category</th>
                    <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Language</th>
                    <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Publisher</th>
                    <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Year</th>
                    <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Status</th>
                    <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Action</th>
                </tr>
            </thead>
            <tbody id="books-list">
                <!-- Books will be rendered here -->
                <!--
                <tr>
                    <td class="px-4 py-2"><input type="checkbox" /></td>
                    <td class="px-4 py-2">1234567890</td>
                    <td class="px-4 py-2">Book Title</td>
                    <td class="px-4 py-2">Author Name</td>
                    <td class="px-4 py-2">Category</td>
                    <td class="px-4 py-2">English</td>
                    <td class="px-4 py-2">Publisher</td>
                    <td class="px-4 py-2">2024</td>
                    <td class="px-4 py-2">
                        <span class="inline-block bg-green-100 text-green-800 text-xs font-semibold px-2.5 py-0.5 rounded-full">Available</span>
                    </td>
                    <td class="px-4 py-2">
                        <button class="bg-gradient-to-r from-blue-500 to-blue-700 text-white px-4 py-1 rounded shadow hover:from-blue-600 hover:to-blue-800 transition">Borrow</button>
                    </td>
                </tr>
                -->
            </tbody>
        </table>
    </div>

    <!-- Modal for borrow request -->
    <div id="borrow-modal" class="fixed inset-0 flex items-center justify-center bg-black bg-opacity-40 z-50 hidden">
        <div class="bg-white rounded-lg shadow-lg p-6 w-full max-w-md relative">
            <button id="close-modal" class="absolute top-2 right-2 text-gray-400 hover:text-gray-700">&times;</button>
            <h3 class="text-lg font-semibold mb-4">Request to Borrow</h3>
            <form id="borrow-form" class="space-y-4">
                <input type="hidden" id="modal-book-id">
                <div>
                    <label for="request_description" class="block text-sm font-medium text-gray-700 mb-1">Request Description</label>
                    <textarea id="request_description" class="form-input w-full px-3 py-2 border border-gray-300 rounded-lg text-sm" placeholder="Why do you need this book?" required></textarea>
                </div>
                <div>
                    <label for="return_date" class="block text-sm font-medium text-gray-700 mb-1">Return Date</label>
                    <input type="date" id="return_date" class="form-input w-full px-3 py-2 border border-gray-300 rounded-lg text-sm" required>
                </div>
                <button type="submit" class="w-full bg-blue-600 text-white py-2 px-4 rounded hover:bg-blue-700">Submit Request</button>
            </form>
        </div>
    </div>
</section>
{% endblock %}
{% block scripts %}
<script src="/static/books/lending.js"></script>
{% endblock %}
